{"ast":null,"code":"import React from\"react\";import{useEffect}from\"react\";import{useState}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Books=()=>{const[books,setBooks]=useState([]);useEffect(()=>{const fetchAllBooks=async()=>{try{const res=await axios.get(\"https://localhost:8800/books\");setBooks(res.data);}catch(err){console.log(err);}};fetchAllBooks();},[]);const handleDelete=async id=>{try{await axios.delete(\"http://localhost:8800/books/\"+id);window.location.reload();}catch(err){console.log(err);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Books Shop\"}),/*#__PURE__*/_jsx(\"div\",{className:\"books\",children:books.map(book=>/*#__PURE__*/_jsxs(\"div\",{className:\"book\",children:[book.cover&&/*#__PURE__*/_jsx(\"img\",{src:book.cover,alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{children:book.title}),/*#__PURE__*/_jsx(\"p\",{children:book.desc}),/*#__PURE__*/_jsx(\"span\",{children:book.price}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:()=>handleDelete(book.id),children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{className:\"update\",children:\"Update\"})]},book.id))}),/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(Link,{to:\"/add\",children:\"Add new book\"})})]});};export default Books;","map":{"version":3,"names":["React","useEffect","useState","axios","Link","jsx","_jsx","jsxs","_jsxs","Books","books","setBooks","fetchAllBooks","res","get","data","err","console","log","handleDelete","id","delete","window","location","reload","children","className","map","book","cover","src","alt","title","desc","price","onClick","to"],"sources":["C:/Users/VIVIBOOK/Desktop/New folder/client/src/pages/Books.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nconst Books = () => {\r\n  const [books, setBooks] = useState([]);\r\n  useEffect(() => {\r\n    const fetchAllBooks = async () => {\r\n      try {\r\n        const res = await axios.get(\"https://localhost:8800/books\");\r\n        setBooks(res.data)\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    fetchAllBooks()\r\n  }, []);\r\n  const handleDelete= async(id)=>{\r\n    try{\r\n      await axios.delete(\"http://localhost:8800/books/\"+id)\r\n      window.location.reload()\r\n    }catch(err){\r\n      console.log(err)\r\n    }\r\n  }\r\n  return <div> \r\n    <h1>Books Shop</h1>\r\n    <div className=\"books\">\r\n        {books.map((book)=>(\r\n            <div className=\"book\" key={book.id}>\r\n                {book.cover &&<img src={book.cover} alt=\"\" />}\r\n                <h2>{book.title}</h2>\r\n                <p>{book.desc}</p>\r\n                <span>{book.price}</span>\r\n                <button className=\"delete\" onClick={()=>handleDelete(book.id)}>Delete</button>\r\n                <button className=\"update\" >Update</button>\r\n            </div>\r\n        ))}\r\n    </div>\r\n    <button><Link to=\"/add\">Add new book</Link></button>\r\n    </div>;\r\n};\r\nexport default Books\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,QAAQ,KAAQ,OAAO,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACxC,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAV,KAAK,CAACW,GAAG,CAAC,8BAA8B,CAAC,CAC3DH,QAAQ,CAACE,GAAG,CAACE,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CACF,CAAC,CACDJ,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CACN,KAAM,CAAAO,YAAY,CAAE,KAAM,CAAAC,EAAE,EAAG,CAC7B,GAAG,CACD,KAAM,CAAAjB,KAAK,CAACkB,MAAM,CAAC,8BAA8B,CAACD,EAAE,CAAC,CACrDE,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,MAAMR,GAAG,CAAC,CACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAClB,CACF,CAAC,CACD,mBAAOR,KAAA,QAAAiB,QAAA,eACLnB,IAAA,OAAAmB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBnB,IAAA,QAAKoB,SAAS,CAAC,OAAO,CAAAD,QAAA,CACjBf,KAAK,CAACiB,GAAG,CAAEC,IAAI,eACZpB,KAAA,QAAKkB,SAAS,CAAC,MAAM,CAAAD,QAAA,EAChBG,IAAI,CAACC,KAAK,eAAGvB,IAAA,QAAKwB,GAAG,CAAEF,IAAI,CAACC,KAAM,CAACE,GAAG,CAAC,EAAE,CAAE,CAAC,cAC7CzB,IAAA,OAAAmB,QAAA,CAAKG,IAAI,CAACI,KAAK,CAAK,CAAC,cACrB1B,IAAA,MAAAmB,QAAA,CAAIG,IAAI,CAACK,IAAI,CAAI,CAAC,cAClB3B,IAAA,SAAAmB,QAAA,CAAOG,IAAI,CAACM,KAAK,CAAO,CAAC,cACzB5B,IAAA,WAAQoB,SAAS,CAAC,QAAQ,CAACS,OAAO,CAAEA,CAAA,GAAIhB,YAAY,CAACS,IAAI,CAACR,EAAE,CAAE,CAAAK,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC9EnB,IAAA,WAAQoB,SAAS,CAAC,QAAQ,CAAAD,QAAA,CAAE,QAAM,CAAQ,CAAC,GANpBG,IAAI,CAACR,EAO3B,CACR,CAAC,CACD,CAAC,cACNd,IAAA,WAAAmB,QAAA,cAAQnB,IAAA,CAACF,IAAI,EAACgC,EAAE,CAAC,MAAM,CAAAX,QAAA,CAAC,cAAY,CAAM,CAAC,CAAQ,CAAC,EAC/C,CAAC,CACV,CAAC,CACD,cAAe,CAAAhB,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}